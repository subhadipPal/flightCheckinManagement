(this["webpackJsonpairline-manager"]=this["webpackJsonpairline-manager"]||[]).push([[2],{11:function(t,n,e){"use strict";e.d(n,"c",(function(){return c})),e.d(n,"b",(function(){return a})),e.d(n,"a",(function(){return o})),e.d(n,"d",(function(){return u})),e.d(n,"e",(function(){return i})),e.d(n,"g",(function(){return s})),e.d(n,"f",(function(){return l}));var r=e(19),c="695639595546-90m1359ddlofvm6o0lbl4d4iaoisg0bp.apps.googleusercontent.com",a=0,o=1,u=2,i=["Extra Blanket","Extra Pillow","Vegan food","Priority boarding","Fast track security"],s=["A","B","C","D","E","F"],l=function(t){return Object(r.a)(Array(t).keys()).map((function(t){return t+1}))}},125:function(t,n,e){},126:function(t,n,e){"use strict";e.r(n);var r=e(0),c=e(40),a=e.n(c),o=e(23),u=e(28),i=e(160),s=e(159),l=e(162),d=e(164),f=e(165),b=e(163),j=e(87),p=e.n(j),O=e(80),h=e(11),g=e(5),v=e(3);var y=function(t){var n=t.isUserLoginSuccess,e=void 0!==n&&n,r=t.handleGoogleResponse,c=t.selectedRole,a=t.adminLoginStatus,j=Object(o.b)(),y=function(t){return j(Object(u.i)(t))};return Object(v.jsx)(s.a,{sx:{flexGrow:1},children:Object(v.jsx)(i.a,{position:"static",children:Object(v.jsxs)(l.a,{children:[Object(v.jsx)(b.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(v.jsx)(p.a,{})}),Object(v.jsx)(d.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Airline check-In manager"}),e?Object(v.jsx)(O.GoogleLogout,{clientId:h.c,buttonText:"Logout",onLogoutSuccess:r}):Object(v.jsxs)(v.Fragment,{children:[(c===h.d||c===h.b)&&Object(v.jsx)(f.a,{color:"inherit",onClick:function(){return y(h.a)},children:"Admin"}),c===h.a&&a===g.c&&Object(v.jsx)(f.a,{color:"inherit",onClick:function(){return j(Object(u.b)())},children:"Admin logout"}),c===h.a&&a!==g.c&&Object(v.jsx)(f.a,{color:"inherit",onClick:function(){return y(h.d)},children:"Staff"})]})]})})})};var x=function(){var t=Object(o.b)(),n=Object(o.c)((function(t){return t.googleReducer.accessToken})),c=Object(o.c)((function(t){var n;return null===(n=t.roles)||void 0===n?void 0:n.selectedRole})),a=Object(o.c)((function(t){var n;return null===(n=t.roles)||void 0===n?void 0:n.adminLoginStatus})),i=void 0!==n;i&&t(Object(u.i)(2));var s=Object(r.lazy)((function(){return Promise.all([e.e(0),e.e(11)]).then(e.bind(null,181))})),l=Object(r.lazy)((function(){return Promise.all([e.e(1),e.e(5)]).then(e.bind(null,239))})),d=Object(r.lazy)((function(){return e.e(10).then(e.bind(null,241))})),f=Object(r.lazy)((function(){return Promise.all([e.e(0),e.e(8)]).then(e.bind(null,242))})),b=Object(v.jsx)("div",{children:"Loading..."}),j=function(n){t(function(t){return function(n){"undefined"===typeof t&&(t=[]),n({type:g.g,googleResponse:t})}}(n)),n||t(Object(u.g)())};return Object(v.jsxs)("div",{className:"login",children:[Object(v.jsx)(y,{isUserLoginSuccess:i,handleGoogleResponse:j,selectedRole:c,adminLoginStatus:a}),Object(v.jsx)(r.Suspense,{fallback:b,children:!i&&(c===h.d||c===h.b)&&Object(v.jsx)(d,{handleGoogleResponse:j})}),Object(v.jsx)(r.Suspense,{fallback:b,children:i&&Object(v.jsx)(s,{})}),Object(v.jsx)(r.Suspense,{fallback:b,children:!i&&c===h.a&&a!==g.c&&Object(v.jsx)(l,{})}),Object(v.jsx)(r.Suspense,{fallback:b,children:!i&&c===h.a&&a===g.c&&Object(v.jsx)(f,{})})]})},m=(e(125),function(){var t=Object(o.b)();return Object(r.useEffect)((function(){t(Object(u.g)())}),[t]),Object(v.jsx)(x,{})}),k=e(34),S=e(88),_=e(12),L={roles:[],selectedRole:h.b,adminLoginStatus:g.b},R=[],w={flights:[],bookings:[],currentBooking:null,currentFlightId:null},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g.j:return Object(_.a)(Object(_.a)({},t),{},{flights:n.payload,bookings:[],currentBooking:null,currentFlightId:null});case g.i:return Object(_.a)(Object(_.a)({},t),{},{bookings:n.payload});case g.e:return Object(_.a)(Object(_.a)({},t),{},{currentBooking:n.payload});case g.f:return Object(_.a)(Object(_.a)({},t),{},{currentFlightId:n.payload});default:return t}},E=Object(k.b)({roles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g.h:return Object(_.a)(Object(_.a)({},t),{},{roles:["admin","staff"]});case g.k:return Object(_.a)(Object(_.a)({},t),{},{selectedRole:h.a});case g.l:return Object(_.a)(Object(_.a)({},t),{},{selectedRole:h.d});case g.b:return Object(_.a)(Object(_.a)({},t),{},{adminLoginStatus:n.payload});case g.d:return Object(_.a)(Object(_.a)({},t),{},{selectedRole:h.b,adminLoginStatus:g.b});default:return t}},googleReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0;return n.type===g.g?n.googleResponse:t},flights:I}),G=E,T=[S.a],N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||k.c,A=Object(k.d)(G,N(k.a.apply(void 0,T)));a.a.render(Object(v.jsx)(o.a,{store:A,children:Object(v.jsx)(m,{})}),document.querySelector("#root"))},28:function(t,n,e){"use strict";e.d(n,"g",(function(){return l})),e.d(n,"i",(function(){return d})),e.d(n,"f",(function(){return f})),e.d(n,"e",(function(){return b})),e.d(n,"h",(function(){return j})),e.d(n,"j",(function(){return p})),e.d(n,"c",(function(){return O})),e.d(n,"b",(function(){return h})),e.d(n,"a",(function(){return g})),e.d(n,"d",(function(){return v}));var r=e(22),c=e.n(r),a=e(30),o=e(31),u=e.n(o),i=e(5),s=e(11),l=function(){return{type:i.h}},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t===s.a?{type:i.k}:{type:i.l}},f=function(t){return function(){var n=Object(a.a)(c.a.mark((function n(e){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.get("http://localhost:3030/flights?flight_dep_time_gte=".concat(t));case 2:r=n.sent,e({type:i.j,payload:r.data});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},b=function(t){return function(){var n=Object(a.a)(c.a.mark((function n(e){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.get("http://localhost:3030/flights/".concat(t,"/bookings"));case 2:r=n.sent,e({type:i.i,payload:r.data}),e({type:i.f,payload:t}),0===r.data.length&&e({type:i.e,payload:null});case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},j=function(t){return{type:i.e,payload:t}},p=function(t,n,e){return function(){var r=Object(a.a)(c.a.mark((function r(a){var o;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.patch("http://localhost:3030/bookings/".concat(n),t);case 2:o=r.sent,a({type:i.e,payload:o.data}),a(b(e));case 5:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},O=function(t){return function(){var n=Object(a.a)(c.a.mark((function n(e){var r,a,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.get("http://localhost:3030/admin");case 2:r=n.sent,a=r.data,o="",o=a.username===t.username&&a.password===t.password?i.c:i.a,e({type:i.b,payload:o});case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},h=function(){return{type:i.d}},g=function(t){return function(){var n=Object(a.a)(c.a.mark((function n(e){var r,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.post("http://localhost:3030/bookings",t);case 2:r=n.sent,a=r.data,e({type:i.e,payload:a}),e(b(a.flightId));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},v=function(t,n){return function(){var e=Object(a.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("http://localhost:3030/bookings/".concat(t));case 2:r({type:i.e,payload:null}),r(b(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},5:function(t,n,e){"use strict";e.d(n,"h",(function(){return r})),e.d(n,"k",(function(){return c})),e.d(n,"l",(function(){return a})),e.d(n,"g",(function(){return o})),e.d(n,"j",(function(){return u})),e.d(n,"i",(function(){return i})),e.d(n,"e",(function(){return s})),e.d(n,"f",(function(){return l})),e.d(n,"b",(function(){return d})),e.d(n,"a",(function(){return f})),e.d(n,"c",(function(){return b})),e.d(n,"d",(function(){return j}));var r="INIT_ROLES",c="SET_ADMIN_ROLE",a="SET_STAFF_ROLE",o="GOOGLE_OAUTH2",u="LOAD_FLIGHTS",i="LOAD_BOOKINGS",s="CURRENT_BOOKING",l="CURRENT_FLIGHT_ID",d="ADMIN_LOGIN_STATUS",f="LOGIN_ERROR",b="LOGIN_SUCCESS",j="ADMIN_LOGOUT"}},[[126,3,4]]]);
//# sourceMappingURL=main.5538ecaa.chunk.js.map